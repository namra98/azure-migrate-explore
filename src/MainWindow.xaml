<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="AzureMigrateExplore.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:AzureMigrateExplore"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    NavigationCacheMode="Enabled"
    Background="White">

    <Page.Resources>

        <!-- Define colors using SolidColorBrush -->
        <SolidColorBrush x:Key="PrimaryColor" Color="#0078D7"/>
        <SolidColorBrush x:Key="AccentColor" Color="#32CD32"/>
        <SolidColorBrush x:Key="BackgroundColor" Color="#F5F5F5"/>
        <SolidColorBrush x:Key="CardBackgroundColor" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="TextColor" Color="#000000"/>

        <!-- Define styles -->
        <Style x:Key="PrimaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource PrimaryColor}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="14" />
        </Style>

        <Style x:Key="SecondaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryColor}"/>
            <Setter Property="BorderBrush" Value="{StaticResource PrimaryColor}"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="FontWeight" Value="Bold"/>
        </Style>

        <Style x:Key="NavigationViewItemStyle" TargetType="NavigationViewItem">
            <Setter Property="Foreground" Value="{StaticResource TextColor}"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="14" />
        </Style>

    </Page.Resources>

    <Grid Background="{StaticResource BackgroundColor}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Left Dock Tab Panel -->
        <NavigationView x:Name="NavView" IsBackButtonVisible="Collapsed" IsSettingsVisible="False" IsPaneToggleButtonVisible="False" PaneDisplayMode="Left" Grid.Row="0" Grid.Column="0" HorizontalContentAlignment="Center" SelectionChanged="NavigationView_SelectionChanged" Background="WhiteSmoke" IsTitleBarAutoPaddingEnabled="False">
            <NavigationView.MenuItems>
                <NavigationViewItem Style="{StaticResource NavigationViewItemStyle}" Content="Login" Tag="Welcome" x:Name="WelcomeTabButton">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="Contact"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Style="{StaticResource NavigationViewItemStyle}" Content="Project Details" Tag="ProjectDetails" x:Name="ProjectDetailsTabButton">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="Document"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Style="{StaticResource NavigationViewItemStyle}" Content="Configuration" Tag="Configuration" x:Name="ConfigurationTabButton">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="Setting"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Style="{StaticResource NavigationViewItemStyle}" Content="Assessment Settings" Tag="AssessmentSettings" x:Name="AssessmentSettingsTabButton">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="Library"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <!--<NavigationViewItem Style="{StaticResource NavigationViewItemStyle}" Content="Track Progress" Tag="TrackProgress" x:Name="TrackProgressTabButton">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="Sync"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>-->
                <NavigationViewItem Style="{StaticResource NavigationViewItemStyle}" Content="Generate Summary with AI" Tag="CopilotQuestionnaire" x:Name="CopilotQuestionnaireTabButton">
                    <NavigationViewItem.Icon>
                        <FontIcon Glyph="&#xf4a5;" FontFamily="Segoe Fluent Icons" />
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Style="{StaticResource NavigationViewItemStyle}" Content="Copilot Chat" Tag="CopilotChat" x:Name="CopilotChatTabButton">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="Message"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Style="{StaticResource NavigationViewItemStyle}" Content="Review Summary" Tag="ChatPage" x:Name="ChatPageTabButton">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="VideoChat"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.MenuItems>
            <NavigationView.FooterMenuItems>
                <NavigationViewItem Style="{StaticResource NavigationViewItemStyle}" Content="Microsoft Privacy Statement" Tag="PrivacyDoc" x:Name="PrivacyDocButton" Tapped="PrivacyDocButton_Tapped">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="Document"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Style="{StaticResource NavigationViewItemStyle}" Content="Help" Tag="help" x:Name="HelperDocButton" Tapped="HelperDocButton_Tapped">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="Document"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
                <NavigationViewItem Style="{StaticResource NavigationViewItemStyle}" Content="Exit" Tag="Close" x:Name="BottomDockCloseButton">
                    <NavigationViewItem.Icon>
                        <SymbolIcon Symbol="ClosePane"/>
                    </NavigationViewItem.Icon>
                </NavigationViewItem>
            </NavigationView.FooterMenuItems>
        </NavigationView>

        <!-- Fill Dock Child Form Panel -->
        <Frame x:Name="contentFrame" Grid.Row="0" Grid.Column="1"/>

        <!-- Bottom Dock Action Buttons Panel -->
        <Grid Grid.Row="1" Grid.Column="1" Margin="0,10,0,10">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <Button Style="{StaticResource PrimaryButtonStyle}" Content="Back" Click="BackButton_Click" Visibility="Collapsed" x:Name="BackButton" Height="40" Width="100" Grid.Column="0"/>
            <StackPanel Orientation="Horizontal" Grid.Column="1" HorizontalAlignment="Right" Margin="20">
                <Button Style="{StaticResource PrimaryButtonStyle}" Content="Submit" Click="SubmitButton_Click" x:Name="SubmitButton" Height="40" Width="100"/>
                <Button Style="{StaticResource PrimaryButtonStyle}" Content="Stop" Click="StopButton_Click" x:Name="StopButton" Height="40" Width="100"/>
                <Button Style="{StaticResource PrimaryButtonStyle}" Content="Retry" Click="RetryButton_Click" x:Name="RetryButton" Height="40" Width="100"/>
                <Button Style="{StaticResource PrimaryButtonStyle}" Content="Assess" Click="AssessButton_Click" x:Name="AssessButton" Height="40" Width="100"/>
                <Button Style="{StaticResource PrimaryButtonStyle}" Content="Summarize with AI" Click="GenerateSummaryButton_Click" Name="GenerateSummaryButton" Height="40" Width="150"/>
            </StackPanel>
            <Button Style="{StaticResource PrimaryButtonStyle}" Content="Next" Click="NextButton_Click" Visibility="Collapsed" x:Name="NextButton" Height="40" Width="100" Grid.Column="2"/>
        </Grid>
        <!-- Signing In ContentDialog -->
        <ContentDialog x:Name="SigningInDialog" Title="Signing In" IsPrimaryButtonEnabled="False" IsSecondaryButtonEnabled="False">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Text="Please wait while we sign you in..." Margin="0,0,0,10"/>
                <ProgressRing IsActive="True" Width="50" Height="50"/>
            </StackPanel>
        </ContentDialog>

        <Grid Grid.Row="0" Grid.RowSpan="3" Grid.ColumnSpan="3" x:Name="OverlayGrid" Background="Gray" Opacity="0.9" Visibility="Collapsed">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <ProgressRing IsActive="True" Width="50" Height="50" Foreground="Black"/>
                <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="Black" FontSize="24" FontWeight="Bold" TextAlignment="Center">
                Summary generation may take a few minutes.
                </TextBlock>
                <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="Black" FontSize="18" TextAlignment="Center" TextWrapping="Wrap" Width="400">
                You can minimize the window and will be notified when it's done...
                </TextBlock>
            </StackPanel>
        </Grid>
    </Grid>
</Page>
